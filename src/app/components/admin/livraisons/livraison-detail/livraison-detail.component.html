<div class="card-header mt-5  text-center">
    <span class="card-title h1 text-white"> Livraison numero</span>
</div>


<div style="text-align:center">
    <h1>
    </h1>
</div>
<div class="container">
    <div class="card">
        <div class="card-body">
            <div class="row">

                <button class="btn bg-burger btn-rounded text-white btn-sm mb-2 col-2" data-mdb-toggle="modal" data-mdb-target="#exampleModal">Choisir Livreur</button>
                <button class="btn btn-success btn-rounded text-white btn-sm  mb-2 col-2 ms-2" (click)="validerLivraison()">Valider</button>
                <div class="col-5 offset-2">
                    <select #livrer class="form-control form-control-sm" (change)="filtrer(livrer)">
                    <option value="all">Tout</option>
                    <option value="aliv">A livrer</option>
                    <option value="livrer">Livré</option>
                  </select>
                </div>
            </div>
            <div class="text-center ">
                <div class="row">
                    <div class="">
                        <ul class="list-group list-group-light">
                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                <strong>Selectionner/ Déselectionner tout</strong>
                                <input class="form-check-input" type="checkbox" [(ngModel)]="masterSelected" name="list_name" value="m1" (change)="checkUncheckAll()" />
                            </li>
                        </ul>
                        <hr>
                        <ul class="list-group list-group-light">
                            <li class="list-group-item d-flex justify-content-between align-items-center" *ngFor="let item of checklist">
                                <div class="d-flex align-items-center">
                                    <img src="assets/image/livraison.jpg" alt="" style="width: 60px; height: 60px" class="rounded-circle" />
                                    <div class="ms-3">
                                        <p class="fw-bold mb-1"> {{item.client.nom}}</p>
                                        <p class="text-muted mb-0"> {{item.client.telephone}}</p>
                                    </div>
                                </div>
                                <span class="offset-3 small text-danger"> {{item.status}}</span>
                                <input *ngIf="item.status=='terminer' || (item.status=='Cours de livraison' && retour)" class="form-check-input" type="checkbox" [(ngModel)]="item.isSelected" name="list_name" value="{{item.id}}" (change)="isAllSelected()" />

                            </li>
                        </ul>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <code>{{checkedList}}</code>
    </div>
</div>



<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <form #livreur="ngForm" (ngSubmit)="livreurChoice(livreur)">
            <div class="modal-content ">
                <div class="modal-header bg-danger text-white">
                    <h5 class="modal-title" id="exampleModalLabel">Liste des Livreurs</h5>
                    <button type="button" class="btn-close" data-mdb-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="">
                            <ul class="list-group list-group-light">
                                <li class="list-group-item d-flex justify-content-between align-items-center" *ngFor="let item of livreurs">
                                    <div class="d-flex align-items-center">
                                        <img src="assets/image/delivery.png" alt="" style="width: 60px; height: 60px" class="rounded-circle" />
                                        <div class="ms-3">
                                            <p class="fw-bold mb-1"> {{item.nom}}</p>
                                            <p class="text-muted mb-0"> {{item.telephone}}</p>
                                        </div>
                                    </div>
                                    <input class="form-check-input" type="radio" [(ngModel)]="item.checked" name="list_name" value="{{item.id}}" />

                                </li>
                            </ul>
                        </div>

                    </div>
                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-secondary" data-mdb-dismiss="modal">Close</button>

                </div>
            </div>
        </form>
    </div>
</div>
